#include<stdio.h>  // add
#include<stdlib.h>  // add

int main(){  // add

  int *array; // 一維陣列
  int n = 10; // 存放10個整數

  array = (int *) malloc(n * sizeof(int)); // malloc()配置記憶體區塊(大小為10)

  if (array == NULL) {  // 檢查malloc是否成功 // add
     printf("malloc failed\n"); // 失敗會是NULL並結束
     return 1; 
  }

  // initial(最初)array
  for(int i = 0; i < n; i++) {
    array[i] = i + 1;
  }

  // 印出原始array
  for (int i = 0; i < n; i++) {
      printf("%d ", array[i]);
  }

  n = n * 2; // 擴充size of array
  array = (int *) realloc(array, n * sizeof(int)); // realloc()擴充原本的記憶體區塊


  if (array == NULL) {   // 回傳檢查 // add
     printf("realloc failed\n");
     return 1;
  }

  for (int i = n/2; i < n; i++) {
      array[i] = i + 1;   // initialize new elements(初始化新增加的元素)
  }

  // 印出擴充後array // add
  for (int i = 0; i < n; i++) {
      printf("%d ", array[i]);
  }

  free(array); // 釋放掉配置區塊防止記憶體洩漏 // add
  return 0;  // add
}  // add
